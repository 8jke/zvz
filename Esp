-- Load Rayfield
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- Create the main window
local Window = Rayfield:CreateWindow({
    Name = "ESP Hub",
    LoadingTitle = "ESP Suite",
    LoadingSubtitle = "with Rayfield UI",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "ESPConfig",
        FileName = "Settings"
    },
    Discord = {
        Enabled = false
    }
})

-- Tabs
local MainTab = Window:CreateTab("Main", 4483362458) -- icon id
local ESPSection = MainTab:CreateSection("ESP Controls")

-- Import the ESP script
loadstring(game:HttpGet("https://pastebin.com/raw/VPGhQ3z0"))() 
-- ðŸ‘† Replace with the optimized ESP script I gave you earlier
-- (Or paste it directly instead of loading from pastebin if you prefer)

-- Initial settings
local currentSettings = {
    Enabled = true,
    Boxes = true,
    TeamColor = true,
    Tracers = false,
    Names = true,
    TeamMates = false,
}

-- Call update if ESP already loaded
if _G.WRDESPUpdate then
    _G.WRDESPUpdate(currentSettings)
end

-- Rayfield Toggles
MainTab:CreateToggle({
    Name = "Enable ESP",
    CurrentValue = currentSettings.Enabled,
    Flag = "EnableESP",
    Callback = function(Value)
        currentSettings.Enabled = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})

MainTab:CreateToggle({
    Name = "Show Boxes",
    CurrentValue = currentSettings.Boxes,
    Flag = "ESPBoxes",
    Callback = function(Value)
        currentSettings.Boxes = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})

MainTab:CreateToggle({
    Name = "Team Colors",
    CurrentValue = currentSettings.TeamColor,
    Flag = "ESPTeamColors",
    Callback = function(Value)
        currentSettings.TeamColor = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})

MainTab:CreateToggle({
    Name = "Tracers",
    CurrentValue = currentSettings.Tracers,
    Flag = "ESPTracers",
    Callback = function(Value)
        currentSettings.Tracers = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})

MainTab:CreateToggle({
    Name = "Show Names",
    CurrentValue = currentSettings.Names,
    Flag = "ESPNames",
    Callback = function(Value)
        currentSettings.Names = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})

MainTab:CreateToggle({
    Name = "Show Teammates",
    CurrentValue = currentSettings.TeamMates,
    Flag = "ESPTeammates",
    Callback = function(Value)
        currentSettings.TeamMates = Value
        _G.WRDESPUpdate(currentSettings)
    end,
})
